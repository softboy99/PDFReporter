//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: pdfreporter-extensions/src/org/oss/pdfreporter/uses/net/sourceforge/jeval/function/string/CharAt.java
//
//  Created by kendra on 9/27/13.
//

#include "IOSCharArray.h"
#include "java/lang/Exception.h"
#include "java/lang/Integer.h"
#include "java/util/ArrayList.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/EvaluationConstants.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/Evaluator.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/function/FunctionConstants.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/function/FunctionException.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/function/FunctionHelper.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/function/FunctionResult.h"
#include "org/oss/pdfreporter/uses/net/sourceforge/jeval/function/string/CharAt.h"

@implementation OrgOssPdfreporterUsesNetSourceforgeJevalFunctionStringCharAt

- (NSString *)getName {
  return @"charAt";
}

- (OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionResult *)executeWithOrgOssPdfreporterUsesNetSourceforgeJevalEvaluator:(OrgOssPdfreporterUsesNetSourceforgeJevalEvaluator *)evaluator
                                                                                                                    withNSString:(NSString *)arguments {
  NSString *result = nil;
  NSString *exceptionMessage = @"One string and one integer argument are required.";
  JavaUtilArrayList *values = [OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionHelper getOneStringAndOneIntegerWithNSString:arguments withUnichar:OrgOssPdfreporterUsesNetSourceforgeJevalEvaluationConstants_FUNCTION_ARGUMENT_SEPARATOR];
  if ([((JavaUtilArrayList *) nil_chk(values)) size] != 2) {
    @throw [[OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionException alloc] initWithNSString:exceptionMessage];
  }
  @try {
    NSString *argumentOne = [OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionHelper trimAndRemoveQuoteCharsWithNSString:(NSString *) [((JavaUtilArrayList *) nil_chk(values)) getWithInt:0] withUnichar:[((OrgOssPdfreporterUsesNetSourceforgeJevalEvaluator *) nil_chk(evaluator)) getQuoteCharacter]];
    int index = [((JavaLangInteger *) [((JavaUtilArrayList *) nil_chk(values)) getWithInt:1]) intValue];
    IOSCharArray *character = [IOSCharArray arrayWithLength:1];
    (*[((IOSCharArray *) nil_chk(character)) charRefAtIndex:0]) = [((NSString *) nil_chk(argumentOne)) charAtWithInt:index];
    result = [NSString stringWithCharacters:character];
  }
  @catch (OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionException *fe) {
    @throw [[OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionException alloc] initWithNSString:[((OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionException *) nil_chk(fe)) getMessage] withJavaLangException:fe];
  }
  @catch (JavaLangException *e) {
    @throw [[OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionException alloc] initWithNSString:exceptionMessage withJavaLangException:e];
  }
  return [[OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionResult alloc] initWithNSString:result withInt:OrgOssPdfreporterUsesNetSourceforgeJevalFunctionFunctionConstants_FUNCTION_RESULT_TYPE_STRING];
}

- (id)init {
  return [super init];
}

@end
