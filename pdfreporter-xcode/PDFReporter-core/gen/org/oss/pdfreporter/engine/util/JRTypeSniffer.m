//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: pdfreporter-core/src/org/oss/pdfreporter/engine/util/JRTypeSniffer.java
//
//  Created by kendra on 9/27/13.
//

#include "IOSByteArray.h"
#include "java/lang/System.h"
#include "org/oss/pdfreporter/engine/type/ImageTypeEnum.h"
#include "org/oss/pdfreporter/engine/util/JRTypeSniffer.h"

@implementation OrgOssPdfreporterEngineUtilJRTypeSniffer

+ (BOOL)isGIFWithByteArray:(IOSByteArray *)data {
  if ((int) [((IOSByteArray *) nil_chk(data)) count] < 3) {
    return NO;
  }
  IOSByteArray *first = [IOSByteArray arrayWithLength:3];
  [JavaLangSystem arraycopyWithId:data withInt:0 withId:first withInt:0 withInt:3];
  if ([([NSString stringWithBytes:first]) equalsIgnoreCase:@"GIF"]) {
    return YES;
  }
  return NO;
}

+ (BOOL)isJPEGWithByteArray:(IOSByteArray *)data {
  if ((int) [((IOSByteArray *) nil_chk(data)) count] < 2) {
    return NO;
  }
  if ([((IOSByteArray *) nil_chk(data)) byteAtIndex:0] == -1 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:1] == -40) {
    return YES;
  }
  return NO;
}

+ (BOOL)isPNGWithByteArray:(IOSByteArray *)data {
  if ((int) [((IOSByteArray *) nil_chk(data)) count] < 8) {
    return NO;
  }
  if ([((IOSByteArray *) nil_chk(data)) byteAtIndex:0] == -119 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:1] == 80 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:2] == 78 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:3] == 71 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:4] == 13 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:5] == 10 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:6] == 26 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:7] == 10) {
    return YES;
  }
  return NO;
}

+ (BOOL)isTIFFWithByteArray:(IOSByteArray *)data {
  if ((int) [((IOSByteArray *) nil_chk(data)) count] < 2) {
    return NO;
  }
  if (([((IOSByteArray *) nil_chk(data)) byteAtIndex:0] == 73 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:1] == 73) || ([((IOSByteArray *) nil_chk(data)) byteAtIndex:0] == 77 && [((IOSByteArray *) nil_chk(data)) byteAtIndex:1] == 77)) {
    return YES;
  }
  return NO;
}

+ (char)getImageTypeWithByteArray:(IOSByteArray *)data {
  return [((OrgOssPdfreporterEngineTypeImageTypeEnumEnum *) nil_chk([OrgOssPdfreporterEngineUtilJRTypeSniffer getImageTypeValueWithByteArray:data])) getValue];
}

+ (OrgOssPdfreporterEngineTypeImageTypeEnumEnum *)getImageTypeValueWithByteArray:(IOSByteArray *)data {
  if ([OrgOssPdfreporterEngineUtilJRTypeSniffer isGIFWithByteArray:data]) {
    return [OrgOssPdfreporterEngineTypeImageTypeEnumEnum GIF];
  }
  else if ([OrgOssPdfreporterEngineUtilJRTypeSniffer isJPEGWithByteArray:data]) {
    return [OrgOssPdfreporterEngineTypeImageTypeEnumEnum JPEG];
  }
  else if ([OrgOssPdfreporterEngineUtilJRTypeSniffer isPNGWithByteArray:data]) {
    return [OrgOssPdfreporterEngineTypeImageTypeEnumEnum PNG];
  }
  else if ([OrgOssPdfreporterEngineUtilJRTypeSniffer isTIFFWithByteArray:data]) {
    return [OrgOssPdfreporterEngineTypeImageTypeEnumEnum TIFF];
  }
  return [OrgOssPdfreporterEngineTypeImageTypeEnumEnum UNKNOWN];
}

+ (NSString *)getImageMimeTypeWithChar:(char)imageType {
  OrgOssPdfreporterEngineTypeImageTypeEnumEnum *imageTypeEnum = [OrgOssPdfreporterEngineTypeImageTypeEnumEnum getByValueWithChar:imageType];
  return imageTypeEnum == nil ? nil : [((OrgOssPdfreporterEngineTypeImageTypeEnumEnum *) nil_chk(imageTypeEnum)) getMimeType];
}

- (id)init {
  return [super init];
}

@end
